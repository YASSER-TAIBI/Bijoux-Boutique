<div class="order-complete-page" @fadeIn *ngIf="orderDetails">
  <h1>Paiement</h1>

  <div class="checkout-steps">
    <span class="step-non-hover">1 CHARIOTS DE COURSES</span>
    <span class="step-separator">></span>
    <span class="step-non-hover">2 D√âTAILS DE LA CAISSE</span>
    <span class="step-separator">></span>
    <span class="step active">3 COMMANDE COMPL√àTE</span>
  </div>

  <div class="order-confirmation" @slideIn>
    <h2>Merci. Votre commande a √©t√© re√ßue.</h2>

    <div class="order-info">
      <div class="info-item">
        <span class="label">Num√©ro de commande:</span>
        <span class="value">{{ orderDetails.orderNumber }}</span>
      </div>
      <div class="info-item">
        <span class="label">Date:</span>
        <span class="value">{{ orderDetails.date }}</span>
      </div>
      <div class="info-item">
        <span class="label">Total:</span>
        <span class="value">{{ orderDetails.total | currency:'EUR':'symbol':'1.2-2' }}</span>
      </div>
      <div class="info-item">
        <span class="label">Mode de paiement:</span>
        <span class="value">{{ orderDetails.paymentMethod }}</span>
      </div>
    </div>

    <div class="payment-note">
      Payer en esp√®ces √† la livraison
    </div>

    <div class="order-details-section">
      <h3>D√©tails de la commande</h3>
      
      <table class="order-items" *ngIf="orderDetails?.items">
        <thead>
          <tr>
            <th>Produit</th>
            <th>Quantit√©</th>
            <th>Sous-total</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of orderDetails.items">
            <td class="item-name">{{ item.name }}</td>
            <td class="item-quantity">{{ item.quantity }}</td>
            <td class="item-price">{{ item.price | number:'1.2-2' }}‚Ç¨</td>
            <td class="item-total">{{ item.price * item.quantity | number:'1.2-2' }}‚Ç¨</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="facture-details-section">
    <h3>Informations de facturation</h3>
    <div class="billing-address" *ngIf="orderDetails?.customerInfo">
      <div class="address-details">
        <div class="personal-info">
          <div class="info-group">
            <label>Nom complet</label>
            <span>{{ orderDetails.customerInfo.firstName }} {{ orderDetails.customerInfo.lastName }}</span>
          </div>
          <div class="info-group">
            <label>Adresse</label>
            <span>{{ orderDetails.customerInfo.address }}</span>
          </div>
          <div class="info-group">
            <label>Ville</label>
            <span>{{ orderDetails.customerInfo.postcode }} {{ orderDetails.customerInfo.city }}</span>
          </div>
          <div class="info-group-fin">
            <label>Pays</label>
            <span>{{ orderDetails.customerInfo.country }}</span>
          </div>
        </div>
        <div class="contact-info">
          <div class="info-group">
            <label>Contact</label>
            <div class="email">
              <i class="fas fa-envelope"></i>
              <span>{{ orderDetails.customerInfo.email }}</span>
            </div>
            <div class="phone">
              <i class="fas fa-phone"></i>
              <span>{{ orderDetails.customerInfo.phone }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

    <div class="action-buttons">
      <button class="primary-button" (click)="downloadInvoice()">
        <span class="icon">üì•</span> T√©l√©charger la facture
      </button>
      <button class="secondary-button" (click)="returnToHome()">
        <span class="icon">üè†</span> Retour √† l'accueil
      </button>
    </div>
  </div>

  <div class="confetti" *ngIf="showConfetti">
    <div class="confetti-piece" *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]"></div>
  </div>
</div>
